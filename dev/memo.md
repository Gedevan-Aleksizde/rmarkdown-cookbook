# 校正を手伝ってくれる方へ

## 動作環境

* 明白な誤字脱字の修正程度ならば github 上の操作だけでもできます

ソースコードをいじる, 動作確認もしたいという場合は以下を参考にしてください.

* ソースで使われている R パッケージや magick 等の外部プログラム
* **rmdja** の最新版
* コマンドラインで git で GitHub にアクセスできる. 以下のようにしてローカル git リポジトリを設定する想定のため, また更新時刻を取得するため 
  
  ```
  git clone ...
  git remote add upstream git@github.com:yihui/rmarkdown-cookbook.git
  ```

* Windows の動作は確認していません (誤字修正だけならたぶん不要)


## ワークフロー

* フォントやインデント等の文章のスタイルやレイアウト, 特に PDF上のものはこれから rmdja の更新で解決していく予定なので, 本文の誤字脱字・誤訳・分かりづらい言い回し等を主に指摘していただければと思います. issue での指摘でも直接プルリクを上げても構いません.
* JP フォルダ以下に翻訳版が, EN フォルダに底本としたオリジナルが入っているので, 訳を確認したい方は両者の diff を取るとやりやすいと思います.
* `gh-pages` ブランチにはソースファイルや作業用ファイルを含めません. master か work からコミットしてください
* 本家はデプロイにTravis CI とか使ってますが, こちらは現状, RStudio のツールバーからビルドしてGithubに上げるという作業を手動でやっています (そのうち対応します)


## 翻訳・校正の方針

* Yihui は括弧書きで補足説明を多用するが, 日本語では語順の関係で分かりづらくなる気がする (個人の感想?) のでなるべく括弧を使わない語順に置き換える
  * ただし括弧であることに強い意味がある場合は括弧を保持する.
* 原文の単語を1対1で置き換えたような訳文が嫌いなので同一文中での代名詞とか重複する名詞はなるべく省いている
* HTML 版の表示の関係で見出しの文字数はなるべく減らしたい
* 副詞や機能語はひらがなで. 例えば以下のような表現は避ける
  * 下さい
  * と言うふうに
  * 出来る
  * 矢張り
  * 成る程
* エラーメッセージ等は英語版にするかローカライズされたものを使うか, 後者ならローカライズされてないものはどうするか
* ダミーのファイル名とかをなるべく日本語にしたほうがメリハリがきいて見やすいか?

### ターム・要注意単語の訳語

* 多用される助動詞 may - 「することもできます」程度にする. おそらく should や can より強制力や信念の弱いニュアンス?
  * can は区別がつくようすこしひねった文言にする?
* plot, image, figure, etc.: 文脈に応じて「図」「グラフ」の2通りに訳し分ける?
* features と function/functionality
* output format - 出力フォーマット
* inline R expression - 「インライン (行内) R 評価式」だと堅苦しすぎるので「インライン (R) コード」する
  * 12章で expressions と (line of) codes の違いに言及している記述に出会ってしまった ...
* Section X/Chapter X - X節, X章?. section header のときはこれらの総称として「セクション」と表現する

以下, まだはっきり決めてない

* subfigure - 「サブフィギュア」はわかりにくい...
* full example - ...
* fenced code block: 単に「コードブロック」として, 文脈に応じて何かを囲んでいるというニュアンスの修飾語句を付ける?
* trick/tip - 「裏ワザ」「小ワザ/豆知識」はくだけすぎ?
* raw content/text/verbatim - 平文? 生の文?
* 行内で R コードを書く時 `=` の前後にスペース入れたり入れなかったりは意味があるのか? (1箇所だけ意味が変わる用例がある)
* LaTeX distribution - ---配布パッケージで良くない?
* base R graphics/grid graphics - この場合の base/grid ってパッケージ名?
* "in the wild" のニュアンス (Ch.16)

## 設定変更 TODO
* EN/JP に分けたので相対パスをまとめて変更したい

## 組版 TODO

* kranz は欧文なので和文にするしかない
* 今は bxjs だが完成したら ltjs にする
  * ltjsreport には `\frontmatter` が定義されていない?
* いろいろと欧文向けのマクロ設定をしているようなので確認
  * キャプションだけ左揃えになっている?
* subsubsection で2桁になるとインデントが狂ってる
* 索引の漢字の読み指定が必要
* TODO: 15章の最後が日本語だとわかりにくいので適当なフリーフォントを探す

## cookbook に足りない話

* pdf に svg を (knitr::include_graphics で) 埋め込む方法
* Fenced Div で二段組にすべきか
  + 特に beamer の場合は latex コードを直接埋め込むこともできる.
  
* .Rmarkdown にすると RStudio は認識するが bookdown が勝手に読み込むことはない https://github.com/rstudio/blogdown/issues/97#issuecomment-307931024
